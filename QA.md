# 学内作品展用 Q&A 完全対策マニュアル (全99問)

このドキュメントは、作品展における想定質問とその回答を「生徒（プレイヤー）」「先生（評価者）」「エンジニア（技術者）」の3つのターゲット別に各33問ずつまとめたものです。

---

## 🐣 生徒・一般観覧者向け (Q1-Q33)
**「楽しそう！」「これどうやるの？」という素朴な疑問や、ゲームプレイに関する質問が中心です。**

**Q1. このゲームは何ていう名前？**
A. 「Cross Stage（クロスステージ）」です！

**Q2. どんなゲーム？**
A. 音楽に合わせて歌詞を「掴んで」遊ぶ、Webブラウザ対応のリズムゲームです。カメラを使って体全部や顔で遊ぶモードもあります。

**Q3. これってスマホでも遊べる？**
A. 遊べます！スマホ専用の「モバイルモード」があって、親指一本で快適に遊べるようになっています。

**Q4. インストールとか必要？**
A. 完全にWebサイトとして動いているので、アプリのインストールは不要です。QRコードを読み込めばすぐ遊べます。

**Q5. パソコンでも遊べる？**
A. もちろんです。PCならマウスを使う「カーソルモード」や、Webカメラを使う「ボディモード」「フェイスモード」が遊べます。

**Q6. 曲は何が入ってるの？**
A. 現在は「ストリートライト」（ネギシャワーP）1曲を収録しています。今後追加予定です。

**Q7. このミクちゃんが動いてるのすごいね！どうなってるの？**
A. これは「TextAlive」という技術を使っていて、公式の動画や歌詞データをリアルタイムに借りてきて表示しています。

**Q8. 「フェイスモード」って何？**
A. 顔をカメラに映して、口をパクパクさせて歌詞を食べるようにキャッチする、ちょっと変わったモードです。

**Q9. 「ボディモード」はどうやるの？**
A. パソコンのカメラから離れて全身を映すと、自分の体の動きがゲームに反映されます。全身でリズムに乗ってください！

**Q10. どうすれば高得点が取れるの？**
A. 全ての歌詞バブルを逃さず「長押し（ホールド）」して、コンボをつなげることが重要です。

**Q11. 歌詞の「長押し」ってどういう意味？**
A. タップするだけじゃなくて、歌詞が表示されている間はずっと押し続けて、ゲージを満タンにするのがこのゲームのルールです。

**Q12. ランキングはある？**
A. あります！プレイ後にスコアを登録すると、全プレイヤーの中での順位がわかります。

**Q13. ランキングの名前は本名じゃなきゃダメ？**
A. ニックネームで大丈夫です。好きな名前で登録して、トップを目指してください。

**Q14. 友達と対戦できる？**
A. 直接の対戦はできませんが、ランキング機能でスコアを競い合うことができます。

**Q15. ゲームオーバーはある？**
A. 途中で曲が止まることはありません。最後までプレイしてスコアをリザルト画面で確認できます。

**Q16. 難易度は選べる？**
A. モードによって操作感が全く違うので、自分に合ったスタイルが実質的な難易度選択になります。マウスよりボディモードの方が難しいです！

**Q17. スマホだと画面が小さくて見づらくない？**
A. スマホモードでは、邪魔な表示を消してタップしやすいようにボタン配置を変えているので快適です。

**Q18. 音ゲー苦手なんだけど遊べる？**
A. 判定を甘めに設定しているので、リズムに乗って楽しむだけで十分クリアできます。

**Q19. Webカメラを使うモードは恥ずかしいかも…**
A. 映像は自分の画面に映るだけで、サーバーには一切送信されないので安心してください！

**Q20. なぜ歌詞がバブルになってるの？**
A. 歌詞をただ読むだけでなく、「キャッチする」というアクションを楽しんでもらうためのデザインです。

**Q21. 背景がキラキラしてて綺麗だね！**
A. 「Cross Stage」という名前の通り、ライブステージのネオンをイメージしています。

**Q22. プレイ中に通知が来たらどうなる？**
A. ゲーム自体は止まりませんが、通知でタップが途切れるかもしれないので「おやすみモード」推奨です！

**Q23. 通信量は結構かかる？**
A. 主に音声と歌詞同期データの通信です。カメラモードでは上り通信も使うので、Wi-Fi推奨です。

**Q24. 無料で遊べるの？**
A. 完全無料です！広告もありません。

**Q25. 裏技とかないの？**
A. えーっと…キーボードで特定の文字を打つとデバッグ機能が動くかも？（秘密です）

**Q26. これ一人で作ったの？**
A. （個人の場合）はい！（チームの場合）チーム〇〇で作りました！みんなで役割分担しています。

**Q27. 一時停止はできる？**
A. 画面右下の「再生/一時停止」ボタンで操作できます。

**Q28. 曲が終わったのにランキングが表示されない！**
A. ネットワークの状況によっては少し時間がかかることがあります。少し待ってみてください。

**Q29. 「調整してください」って出るけどどうすればいい？**
A. ボディモードやフェイスモードでは、カメラにしっかり全体が映らないと認識しません。少し下がってみてください。

**Q30. 文字が流れる演出は何？**
A. 今はコメント流しの演出は入れていません。代わりにネオンや粒子の演出でライブ感を出しています。

**Q31. 自分の好きな曲で遊べる？**
A. 現状はプリセットされた楽曲のみですが、技術的には追加可能です。

**Q32. 家に帰ってからも遊びたい！**
A. URL（またはQRコード）にアクセスすれば、家でも同じように遊べます。

**Q33. これからのアップデート予定は？**
A. もっと曲を増やしたり、新しい演出を追加したいと考えています！

---

## 🎓 先生・審査員・採用担当向け (Q34-Q66)
**企画意図、技術選定の理由、開発プロセス、完成度など、プロジェクト全体を評価するための質問です。**

**Q34. この作品のコンセプトは何ですか？**
A. 「視覚と聴覚と身体感覚のクロス（交差）」です。単なるリズムゲームではなく、歌詞そのものに触れる没入感を目指しました。

**Q35. 既存のリズムゲームとの差別化ポイントは？**
A. 「テキスト（歌詞）同期」と「Webカメラによる身体検知」をWebブラウザ上で融合させた点です。アプリ不要で誰でも高度な体験が可能です。

**Q36. なぜネイティブアプリではなくWebで開発したのですか？**
A. アクセシビリティを最優先しました。URL一つでPC、スマホ、タブレット全てのユーザーにリーチできるWebの強みを活かしたかったからです。

**Q37. 使用している技術スタックを教えてください。**
A. フロントはReactとVite、バックエンドはCloudflare WorkersとHono、DBにはSupabaseを使用しています。

**Q38. ボディモードの検知精度はどう確保していますか？**
A. GoogleのMediaPipe Poseを使用しています。認識結果の信頼度（Confidence）でフィルタリングし、誤検知を減らす工夫をしています。

**Q39. 開発期間はどれくらいですか？**
A. 構想含めて約〇〇ヶ月です。最初はコアのゲームループから作り始めました。

**Q40. チームでの役割分担はどうなっていますか？**
A. （例）私がゲームロジックとバックエンドを担当し、デザイン周りをメンバーと協力しました。

**Q41. 苦労した点はどこですか？**
A. Webブラウザ上でのパフォーマンスチューニングです。パーティクルや3D演出をリッチにしつつ、60fpsを維持するのにメモリ管理などを工夫しました。

**Q42. 歌詞データの同期ズレ対策はしていますか？**
A. TextAliveのタイムスタンプを基準に進行し、再生位置は毎フレーム取得しています。APIが不安定な場合はフォールバックで最低限の進行を維持します。

**Q43. サーバーコストはどうなっていますか？**
A. Cloudflare Workersの無料枠を活用しているため、現時点ではほぼゼロ運用が可能です。スケーラビリティも高い構成です。

**Q44. スマホ対応で気をつけたUIデザインは？**
A. 画面の指隠れ問題です。指でノーツが見えなくならないよう、判定エリアと表示エリアを工夫し、専用の「Mobile Mode」を実装しました。

**Q45. セキュリティ面での配慮はありますか？**
A. スコア送信APIにはCloudflare Turnstile（ボット対策）と、HMAC署名による改ざん防止を入れています。

**Q46. 権利関係（楽曲著作権など）はどうなっていますか？**
A. TextAlive App APIの利用規約に準拠し、ピアプロ等のライセンスに基づいた楽曲利用を行っています。

**Q47. UI/UXの設計思想について教えてください。**
A. 「没入感」をテーマに、ネオン調の配色とグラスモーフィズムを採用しました。プレイを阻害しない視認性の確保にも注力しました。

**Q48. コードの品質管理（設計）で意識したことは？**
A. 「単一責任の原則（SRP）」と「ゲームコアの独立」です。GameManagerはオーケストレーターに留め、`src/game/managers/` にInput/Effects/Resultsなどを分割し、API通信は `ScoreService/TokenService` に切り出しています。Reactは画面構成に限定しています。

**Q49. プレゼンテーションとしての魅力はどう演出しましたか？**
A. ボディモードなど「見ている人も楽しい」画面作りを意識しました。展示会場で通りがかった人が足を止めるようなデザインにしています。

**Q50. 今後の拡張性は？**
A. 楽曲追加はIDを増やすだけで可能ですし、マルチプレイ機能などもバックエンド基盤があるため実装可能です。

**Q51. ターゲットユーザーは誰ですか？**
A. ボカロ楽曲が好きな若年層と、新しいWeb技術に興味がある層です。

**Q52. テストはどのように行いましたか？**
A. 複数のデバイス（iPhone, Android, PC）での実機テストを繰り返し、特にタッチ感度やカメラ認識の挙動を入念にチェックしました。

**Q53. ユーザーフィードバックからの改善点はありますか？**
A. 当初判定が厳しすぎたため、ヒットエリアを拡大したり、ホールド判定を緩和したりといった調整を行いました。

**Q54. データベースの構成はどうなっていますか？**
A. Supabaseの`scores`テーブルに保存し、期間やモードでフィルタしてランキングを返します。

**Q55. これを就職活動のポートフォリオにしますか？**
A. はい、モダンなWeb技術とゲームロジック、バックエンドまでフルスタックで作った強みをアピールしたいです。

**Q56. 自己評価として一番誇れるポイントは？**
A. 異なる技術（音楽同期APIと画像認識AI）を一つのWebアプリとして違和感なく統合できた点です。

**Q57. 逆に、やり残したことはありますか？**
A. 演出面でのパーティクル増量や、ユーザーアカウント機能の実装などは時間が足りずオミットしました。

**Q58. アプリのレスポンス速度への配慮は？**
A. エッジサーバー（Cloudflare）を利用することで、API応答速度を最小限に抑えています。

**Q59. WebGLなどのライブラリは使用しましたか？**
A. はい、Three.jsを使用して背景の3D空間をレンダリングしています。

**Q60. 開発フローにCI/CDは導入しましたか？**
A. 現状は手動でビルド/デプロイしています（`npm run deploy`）。

**Q61. ブラウザの互換性問題はありましたか？**
A. Safariでのオーディオ再生ポリシーや、モバイルブラウザのアドレスバーによる画面高さ（100vh問題）への対処が必要でした。

**Q62. プロジェクト管理ツールは何を使いましたか？**
A. GitHub IssuesやProjects、あるいはNotion等を使ってタスク管理を行いました。

**Q63. アクセシビリティへの配慮は？**
A. 色覚に配慮した配色やコントラストは意識していますが、キーボード操作などは改善余地があります。

**Q64. 予期せぬエラーへの対策は？**
A. フォールバック機能を実装しており、APIがダウンしても最低限ゲームが進行するようにしています。

**Q65. 最後に一言アピールをお願いします。**
A. 技術的な挑戦とゲームとしての面白さを両立させました。ぜひ実際にプレイしてその「手触り」を確かめてください！

**Q66. ちなみに、留年は大丈夫ですか？**
A. ……この作品の評価次第です！（笑）

---

## 💻 エンジニア・技術オタク向け (Q67-Q99)
**使用技術、アーキテクチャ、設計思想に特化した、Deepな技術トーク集です。**

**Q67. 技術スタックの全体像を教えてください。**
A. Frontend: React, TypeScript, Vite, Tailwind CSS
Backend: Cloudflare Workers (Hono)
Database: Supabase (PostgreSQL)
Analysis: TextAlive App API
Recognition: MediaPipe (FaceMesh)

**Q68. なぜNext.jsではなくVite(SPA)を採用したのですか？**
A. ゲームという性質上、SSR/ISRのメリットが薄く、初期ロード後のインタラクション速度とクライアントサイドでの描画パフォーマンスを最優先したためです。

**Q69. Cloudflare Workers（エッジコンピューティング）を選定した理由は？**
A. 低遅延で動作し、スコア送信のレスポンスを速くできるためです。

**Q70. バックエンドフレームワークにHonoを採用したメリットは？**
A. Cloudflare Workers上で最速クラスのパフォーマンスが出せる点と、Web標準API準拠で軽量、かつTypeScriptの型定義が強力で開発体験が良いためです。

**Q71. 描画ループの実装はどうなっていますか？**
A. `GameLoop` クラスで `requestAnimationFrame` を管理し、更新と描画をまとめています。Reactのレンダリングとは分離し、高頻度更新はクラス内状態で保持、DOMのstyle直接操作で60fpsを維持しています。

**Q72. Reactの状態管理とゲームループの同期はどう取っていますか？**
A. 進行に必要な状態はGameManager側に保持し、React側は画面遷移やモーダル表示に限定しています。UI反映が必要な部分のみ `useState` を更新して再レンダリングを抑える設計です。

**Q73. 画像処理（MediaPipe）のWebWorker化はしましたか？**
A. 今回は開発期間の都合でメインスレッドで動作させていますが、UI描画へのブロッキングを防ぐため、処理頻度を制御（スロットリング）しています。

**Q74. SupabaseをBaaSとして選んだ決め手は？**
A. PostgreSQLベースであることによるリレーショナルデータの扱いやすさと、Row Level Security (RLS) による堅牢なセキュリティ設定が容易だった点です。

**Q75. CSSフレームワークにTailwind CSSを採用したのはなぜ？**
A. コンポーネントファイル内でスタイルが完結するColocationの利便性と、クラス名の揺れを防ぎつつデザインシステムを一貫させるためです。

**Q76. TextAlive App APIの非同期処理はどう扱っていますか？**
A. `onVideoReady`で歌詞データを取得し、再生位置はTextAliveの`timer.position`を参照して同期しています。

**Q77. スコア登録APIのセキュリティ対策（チート対策）は？**
A. クライアントは `TokenService` で署名トークンを取得して送信し、Workers側でHMAC検証とNonceチェックを行う方式です。

**Q78. Bot対策は導入していますか？**
A. Cloudflare Turnstileを導入し、人間による操作であることを検証した上でAPIリクエストを受け付けるようにしています。

**Q79. データベースの接続プーリングはどうしていますか？**
A. Serverless環境なので接続は短命です。SupabaseのHTTP API経由で操作し、不要な接続を持たないようにしています。

**Q80. オブジェクト再利用（プーリング）は実装していますか？**
A. はい。バブル（ノーツ）のDOM要素は生成・削除を繰り返すとGCが発生してカクつくため、初期化時に生成した要素を使い回すプール機構を実装しています。

**Q81. TypeScriptの型安全性はどこまで保証しましたか？**
A. `strict: true` はもちろん、Supabaseから生成された型定義ファイルを利用し、DBスキーマからフロントエンドまでE2Eでの型安全性を確保しています。

**Q82. デプロイパイプライン（CI/CD）の構成は？**
A. いまは自動化せず、手動でビルドしてWorkersへデプロイしています。

**Q83. ローカル開発環境のDX（開発者体験）工夫点は？**
A. `wrangler dev` を用いてローカルでエッジワーカーを再現し、本番とほぼ同等の環境でAPIテストができるようにしています。

**Q84. 楽曲との同期ズレ（レイテンシ）対策は？**
A. 進行はTextAliveの`timer.position`基準で扱い、APIが使えない場合はフォールバックで進行します。

**Q85. 3D表現はThree.jsですか？それともCSS 3D？**
A. パフォーマンスと実装コストのバランスを考え、背景やUIの一部にはCSS 3D Transformsを活用し、JSライブラリのバンドルサイズを削減しました。

**Q86. ルーティング戦略について教えてください。**
A. SPAとしてクライアントサイドルーティングを採用しています。Cloudflare Workersでは`assets`の`binding`を設定し、`/game`直アクセスはタイトルへリダイレクト（または`index.html`を返す）するため、未設定だと404になります。

**Q87. 依存パッケージの選定で意識したことは？**
A. バンドルサイズ測定ツール（visualizer）を使い、Tree Shakingが効かないライブラリや過剰に巨大なライブラリは採用を見送りました。

**Q88. モバイルデバイス対応での技術的課題は？**
A. iOS Safariの100vh問題に対して、JSで`--vh`を設定する方式を採用しています。

**Q89. コードのディレクトリ構成の意図は？**
A. `src/game`にゲームコア、`src/game/managers`に機能別マネージャ、`src/services`にAPI通信を分けています。UIは`src/components`、画面遷移は`src/pages`です。バックエンドは`worker/`（本番）と`server/`（開発）に分け、`services/schemas`で責務を明確にしています。

**Q90. エラーハンドリングの設計方針は？**
A. 主要な処理はtry/catchで保護し、ユーザーには失敗メッセージを表示します。全体のError Boundaryは今後の課題です。

**Q91. APIのレートリミット実装は？**
A. Cloudflareの機能を利用し、特定IPからの過剰なリクエストをエッジ側で遮断することで、バックエンドAPIの負荷を保護しています。

**Q92. 状態管理ライブラリ（Redux/Zustand等）は使いましたか？**
A. アプリケーション規模的にReactのContext APIとHooksで十分と判断し、外部ライブラリを追加せずにシンプルに構成しました。

**Q93. アセット（画像・フォント）の最適化は？**
A. 画像のWebP変換やフォントのサブセット化はまだ未実施で、今後の最適化項目です。

**Q94. 認証機能（Auth）は実装しましたか？**
A. 今回は「誰もがすぐに遊べる」ことを重視し、匿名ユーザー（ゲスト）としてのスコア登録を基本としています。管理画面のみ固定パスワード認証です。

**Q95. ゲームロジックのテストコードは書きましたか？**
A. まだ十分な自動テストは整備できていません。重要ロジックのテストを今後追加する予定です。

**Q96. 環境変数の管理方法を教えてください。**
A. `.env` ファイルでのローカル管理と、Cloudflare Dashboard上でのEnvironment Variables設定を使い分け、秘匿情報をリポジトリに含めない運用です。

**Q97. パフォーマンスチューニングで一番効果があったのは？**
A. Reactの再レンダリング回数の削減です。`React.memo` や `useCallback` の適切な使用と、頻繁に変わる値をStateからRefへ移行したことが効きました。

**Q98. 今後リファクタリングするならどこから手をつける？**
A. 入力モードごとの処理をStrategy化し、`InputManager` から差し替えられる構造にしたいです。さらに描画系の依存を薄くしてテスト容易性を高めたいです。

**Q99. 最後に、一番技術的に「こだわった」部分は？**
A. 「Web技術だけでネイティブアプリ並みの体験を作る」ことです。モダンブラウザのAPI（MediaPipe, Web Audio, Workers）をフル活用して実現しました。
