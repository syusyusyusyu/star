# 学内作品展用 Q&A 完全対策マニュアル (全99問)

このドキュメントは、作品展における想定質問とその回答を「生徒（プレイヤー）」「先生（評価者）」「エンジニア（技術者）」の3つのターゲット別に各33問ずつまとめたものです。

---

## 🐣 生徒・一般観覧者向け (Q1-Q33)
**「楽しそう！」「これどうやるの？」という素朴な疑問や、ゲームプレイに関する質問が中心です。**

**Q1. このゲームは何ていう名前？**
A. 「Cross Stage（クロスステージ）」です！

**Q2. どんなゲーム？**
A. 音楽に合わせて歌詞を「掴んで」遊ぶ、Webブラウザ対応のリズムゲームです。カメラを使って体全部や顔で遊ぶモードもあります。

**Q3. これってスマホでも遊べる？**
A. 遊べます！スマホ専用の「モバイルモード」があって、親指一本で快適に遊べるようになっています。

**Q4. インストールとか必要？**
A. 完全にWebサイトとして動いているので、アプリのインストールは不要です。QRコードを読み込めばすぐ遊べます。

**Q5. パソコンでも遊べる？**
A. もちろんです。PCならマウスを使う「カーソルモード」や、Webカメラを使う「ボディモード」「フェイスモード」が遊べます。

**Q6. 曲は何が入ってるの？**
A. 現在は初音ミクの楽曲（The First Soundなど）を中心に、TextAliveと連携した楽曲で遊べます。

**Q7. このミクちゃんが動いてるのすごいね！どうなってるの？**
A. これは「TextAlive」という技術を使っていて、公式の動画や歌詞データをリアルタイムに借りてきて表示しています。

**Q8. 「フェイスモード」って何？**
A. 顔をカメラに映して、口をパクパクさせて歌詞を食べるようにキャッチする、ちょっと変わったモードです。

**Q9. 「ボディモード」はどうやるの？**
A. パソコンのカメラから離れて全身を映すと、自分の体の動きがゲームに反映されます。全身でリズムに乗ってください！

**Q10. どうすれば高得点が取れるの？**
A. 全ての歌詞バブルを逃さず「長押し（ホールド）」して、コンボをつなげることが重要です。

**Q11. 歌詞の「長押し」ってどういう意味？**
A. タップするだけじゃなくて、歌詞が表示されている間はずっと押し続けて、ゲージを満タンにするのがこのゲームのルールです。

**Q12. ランキングはある？**
A. あります！プレイ後にスコアを登録すると、全プレイヤーの中での順位がわかります。

**Q13. ランキングの名前は本名じゃなきゃダメ？**
A. ニックネームで大丈夫です。好きな名前で登録して、トップを目指してください。

**Q14. 友達と対戦できる？**
A. 直接の対戦はできませんが、ランキング機能でスコアを競い合うことができます。

**Q15. ゲームオーバーはある？**
A. 途中で曲が止まることはありません。最後までプレイしてスコアをリザルト画面で確認できます。

**Q16. 難易度は選べる？**
A. モードによって操作感が全く違うので、自分に合ったスタイルが実質的な難易度選択になります。マウスよりボディモードの方が難しいです！

**Q17. スマホだと画面が小さくて見づらくない？**
A. スマホモードでは、邪魔な表示を消してタップしやすいようにボタン配置を変えているので快適です。

**Q18. 音ゲー苦手なんだけど遊べる？**
A. 判定を甘めに設定しているので、リズムに乗って楽しむだけで十分クリアできます。

**Q19. Webカメラを使うモードは恥ずかしいかも…**
A. 映像は自分の画面に映るだけで、サーバーには一切送信されないので安心してください！

**Q20. なぜ歌詞がバブルになってるの？**
A. 歌詞をただ読むだけでなく、「キャッチする」というアクションを楽しんでもらうためのデザインです。

**Q21. 背景がキラキラしてて綺麗だね！**
A. 「Cross Stage」という名前の通り、ライブステージのネオンをイメージしています。

**Q22. プレイ中に通知が来たらどうなる？**
A. ゲーム自体は止まりませんが、通知でタップが途切れるかもしれないので「おやすみモード」推奨です！

**Q23. 通信量は結構かかる？**
A. 動画をストリーミング読み込みするので、YouTubeを高画質で見るのと同じくらいかかります。Wi-Fi推奨です。

**Q24. 無料で遊べるの？**
A. 完全無料です！広告もありません。

**Q25. 裏技とかないの？**
A. えーっと…キーボードで特定の文字を打つとデバッグ機能が動くかも？（秘密です）

**Q26. これ一人で作ったの？**
A. （個人の場合）はい！（チームの場合）チーム〇〇で作りました！みんなで役割分担しています。

**Q27. 一時停止はできる？**
A. 画面左上のボタンで一時停止・再開ができます。

**Q28. 曲が終わったのにランキングが表示されない！**
A. ネットワークの状況によっては少し時間がかかることがあります。少し待ってみてください。

**Q29. 「調整してください」って出るけどどうすればいい？**
A. ボディモードやフェイスモードでは、カメラにしっかり全体が映らないと認識しません。少し下がってみてください。

**Q30. 文字が流れる演出は何？**
A. ニコニコ動画のように、応援コメントが流れる演出を取り入れています。盛り上がりますよ！

**Q31. 自分の好きな曲で遊べる？**
A. 現状はプリセットされた楽曲のみですが、技術的には追加可能です。

**Q32. 家に帰ってからも遊びたい！**
A. URL（またはQRコード）にアクセスすれば、家でも同じように遊べます。

**Q33. これからのアップデート予定は？**
A. もっと曲を増やしたり、新しい演出を追加したいと考えています！

---

## 🎓 先生・審査員・採用担当向け (Q34-Q66)
**企画意図、技術選定の理由、開発プロセス、完成度など、プロジェクト全体を評価するための質問です。**

**Q34. この作品のコンセプトは何ですか？**
A. 「視覚と聴覚と身体感覚のクロス（交差）」です。単なるリズムゲームではなく、歌詞そのものに触れる没入感を目指しました。

**Q35. 既存のリズムゲームとの差別化ポイントは？**
A. 「テキスト（歌詞）同期」と「Webカメラによる身体検知」をWebブラウザ上で融合させた点です。アプリ不要で誰でも高度な体験が可能です。

**Q36. なぜネイティブアプリではなくWebで開発したのですか？**
A. アクセシビリティを最優先しました。URL一つでPC、スマホ、タブレット全てのユーザーにリーチできるWebの強みを活かしたかったからです。

**Q37. 使用している技術スタックを教えてください。**
A. フロントはReactとVite、バックエンドはCloudflare WorkersとHono、DBにはSupabaseを使用しています。

**Q38. ボディモードの検知精度はどう確保していますか？**
A. GoogleのMediaPipe Poseを使用しています。認識結果の信頼度（Confidence）でフィルタリングし、誤検知を減らす工夫をしています。

**Q39. 開発期間はどれくらいですか？**
A. 構想含めて約〇〇ヶ月です。最初はコアのゲームループから作り始めました。

**Q40. チームでの役割分担はどうなっていますか？**
A. （例）私がゲームロジックとバックエンドを担当し、デザイン周りをメンバーと協力しました。

**Q41. 苦労した点はどこですか？**
A. Webブラウザ上でのパフォーマンスチューニングです。パーティクルや3D演出をリッチにしつつ、60fpsを維持するのにメモリ管理などを工夫しました。

**Q42. 歌詞データの同期ズレ対策はしていますか？**
A. はい。TextAlive APIのタイムスタンプを基準にしつつ、ブラウザの音声遅延を考慮したオフセット調整機能を実装しています。

**Q43. サーバーコストはどうなっていますか？**
A. Cloudflare Workersの無料枠を活用しているため、現時点ではほぼゼロ運用が可能です。スケーラビリティも高い構成です。

**Q44. スマホ対応で気をつけたUIデザインは？**
A. 画面の指隠れ問題です。指でノーツが見えなくならないよう、判定エリアと表示エリアを工夫し、専用の「Mobile Mode」を実装しました。

**Q45. セキュリティ面での配慮はありますか？**
A. スコア送信APIにはCloudflare Turnstile（ボット対策）と、HMAC署名による改ざん防止を入れています。

**Q46. 権利関係（楽曲著作権など）はどうなっていますか？**
A. TextAlive App APIの利用規約に準拠し、ピアプロ等のライセンスに基づいた楽曲利用を行っています。

**Q47. UI/UXの設計思想について教えてください。**
A. 「没入感」をテーマに、ネオン調の配色とグラスモーフィズムを採用しました。プレイを阻害しない視認性の確保にも注力しました。

**Q48. コードの品質管理（設計）で意識したことは？**
A. 「単一責任の原則（SRP）」です。GameManager、InputManager、UIManagerなど、クラスごとに責務を明確に分離し、Reactコンポーネントとの密結合を避けました。

**Q49. プレゼンテーションとしての魅力はどう演出しましたか？**
A. ボディモードなど「見ている人も楽しい」画面作りを意識しました。展示会場で通りがかった人が足を止めるようなデザインにしています。

**Q50. 今後の拡張性は？**
A. 楽曲追加はIDを増やすだけで可能ですし、マルチプレイ機能などもバックエンド基盤があるため実装可能です。

**Q51. ターゲットユーザーは誰ですか？**
A. ボカロ楽曲が好きな若年層と、新しいWeb技術に興味がある層です。

**Q52. テストはどのように行いましたか？**
A. 複数のデバイス（iPhone, Android, PC）での実機テストを繰り返し、特にタッチ感度やカメラ認識の挙動を入念にチェックしました。

**Q53. ユーザーフィードバックからの改善点はありますか？**
A. 当初判定が厳しすぎたため、ヒットエリアを拡大したり、ホールド判定を緩和したりといった調整を行いました。

**Q54. データベースの構成はどうなっていますか？**
A. SupabaseのPostgreSQLを使用し、スコアテーブルとランキングビューを作成しています。RLSで行レベルセキュリティもかけています。

**Q55. これを就職活動のポートフォリオにしますか？**
A. はい、モダンなWeb技術とゲームロジック、バックエンドまでフルスタックで作った強みをアピールしたいです。

**Q56. 自己評価として一番誇れるポイントは？**
A. 異なる技術（音楽同期APIと画像認識AI）を一つのWebアプリとして違和感なく統合できた点です。

**Q57. 逆に、やり残したことはありますか？**
A. 演出面でのパーティクル増量や、ユーザーアカウント機能の実装などは時間が足りずオミットしました。

**Q58. アプリのレスポンス速度への配慮は？**
A. エッジサーバー（Cloudflare）を利用することで、API応答速度を最小限に抑えています。

**Q59. WebGLなどのライブラリは使用しましたか？**
A. はい、Three.jsを使用して背景の3D空間をレンダリングしています。

**Q60. 開発フローにCI/CDは導入しましたか？**
A. GitHubと連携し、Vercel/Cloudflare Pages等への自動デプロイフローを意識して開発しました。

**Q61. ブラウザの互換性問題はありましたか？**
A. Safariでのオーディオ再生ポリシーや、モバイルブラウザのアドレスバーによる画面高さ（100vh問題）への対処が必要でした。

**Q62. プロジェクト管理ツールは何を使いましたか？**
A. GitHub IssuesやProjects、あるいはNotion等を使ってタスク管理を行いました。

**Q63. アクセシビリティへの配慮は？**
A. 色覚多様性に配慮した配色の検討や、キーボードのみでも一部操作できるような設計を試みました。

**Q64. 予期せぬエラーへの対策は？**
A. フォールバック機能を実装しており、APIがダウンしても最低限ゲームが進行するようにしています。

**Q65. 最後に一言アピールをお願いします。**
A. 技術的な挑戦とゲームとしての面白さを両立させました。ぜひ実際にプレイしてその「手触り」を確かめてください！

**Q66. ちなみに、留年は大丈夫ですか？**
A. ……この作品の評価次第です！（笑）

---

## 💻 エンジニア・技術オタク向け (Q67-Q99)
**使用技術、アーキテクチャ、設計思想に特化した、Deepな技術トーク集です。**

**Q67. 技術スタックの全体像を教えてください。**
A. Frontend: React, TypeScript, Vite, Tailwind CSS
Backend: Cloudflare Workers (Hono)
Database: Supabase (PostgreSQL)
Analysis: TextAlive App API
Recognition: MediaPipe (FaceMesh)

**Q68. なぜNext.jsではなくVite(SPA)を採用したのですか？**
A. ゲームという性質上、SSR/ISRのメリットが薄く、初期ロード後のインタラクション速度とクライアントサイドでの描画パフォーマンスを最優先したためです。

**Q69. Cloudflare Workers（エッジコンピューティング）を選定した理由は？**
A. 物理的な距離によるレイテンシの削減と、コールドスタートの無さ（0ms）です。ゲームのスコア送信におけるリアルタイム性を重視しました。

**Q70. バックエンドフレームワークにHonoを採用したメリットは？**
A. Cloudflare Workers上で最速クラスのパフォーマンスが出せる点と、Web標準API準拠で軽量、かつTypeScriptの型定義が強力で開発体験が良いためです。

**Q71. 描画ループの実装はどうなっていますか？**
A. `requestAnimationFrame` を使用したメインループを回し、Reactのレンダリングサイクルとは完全に分離して、DOMのstyle直接操作による60fpsアニメーションを実現しています。

**Q72. Reactの状態管理とゲームループの同期はどう取っていますか？**
A. ゲーム進行に関わる頻繁な更新（座標など）は `Ref` オブジェクトで管理し、スコア表示などUI反映が必要な部分のみ `useState` を更新して再レンダリングを抑制しています。

**Q73. 画像処理（MediaPipe）のWebWorker化はしましたか？**
A. 今回は開発期間の都合でメインスレッドで動作させていますが、UI描画へのブロッキングを防ぐため、処理頻度を制御（スロットリング）しています。

**Q74. SupabaseをBaaSとして選んだ決め手は？**
A. PostgreSQLベースであることによるリレーショナルデータの扱いやすさと、Row Level Security (RLS) による堅牢なセキュリティ設定が容易だった点です。

**Q75. CSSフレームワークにTailwind CSSを採用したのはなぜ？**
A. コンポーネントファイル内でスタイルが完結するColocationの利便性と、クラス名の揺れを防ぎつつデザインシステムを一貫させるためです。

**Q76. TextAlive App APIの非同期処理はどう扱っていますか？**
A. 楽曲の再生準備完了イベント（`timerReady`）をPromiseでラップし、ゲーム初期化フローの中で `await` することで、リソースロード競合を防いでいます。

**Q77. スコア登録APIのセキュリティ対策（チート対策）は？**
A. フロントエンドでシークレット鍵を用いたHMAC署名を生成し、バックエンドで検証することで、APIへの直接POSTによるスコア改ざんを防止しています。

**Q78. Bot対策は導入していますか？**
A. Cloudflare Turnstileを導入し、人間による操作であることを検証した上でAPIリクエストを受け付けるようにしています。

**Q79. データベースの接続プーリングはどうしていますか？**
A. Supabase Directを利用しつつ、Serverless環境のためコネクション数は最小限にし、可能な限りHTTPインターフェース経由での操作を行っています。

**Q80. オブジェクト再利用（プーリング）は実装していますか？**
A. はい。バブル（ノーツ）のDOM要素は生成・削除を繰り返すとGCが発生してカクつくため、初期化時に生成した要素を使い回すプール機構を実装しています。

**Q81. TypeScriptの型安全性はどこまで保証しましたか？**
A. `strict: true` はもちろん、Supabaseから生成された型定義ファイルを利用し、DBスキーマからフロントエンドまでE2Eでの型安全性を確保しています。

**Q82. デプロイパイプライン（CI/CD）の構成は？**
A. GitHubへのPushをトリガーにCloudflare Pages/Workersへ自動ビルド・デプロイされるワークフローを構築しています。

**Q83. ローカル開発環境のDX（開発者体験）工夫点は？**
A. `wrangler dev` を用いてローカルでエッジワーカーを再現し、本番とほぼ同等の環境でAPIテストができるようにしています。

**Q84. 楽曲との同期ズレ（レイテンシ）対策は？**
A. TextAliveが提供する `position`（再生位置）を基準に、Video/Audio要素の `currentTime` との乖離を毎フレーム監視して補正ロジックを入れています。

**Q85. 3D表現はThree.jsですか？それともCSS 3D？**
A. パフォーマンスと実装コストのバランスを考え、背景やUIの一部にはCSS 3D Transformsを活用し、JSライブラリのバンドルサイズを削減しました。

**Q86. ルーティング戦略について教えてください。**
A. SPAとして動作させるため、クライアントサイド・ルーティングを採用しつつ、特定の共有URLアクセス時にはOGP生成用のサーバーサイド処理も検討しました。

**Q87. 依存パッケージの選定で意識したことは？**
A. バンドルサイズ測定ツール（visualizer）を使い、Tree Shakingが効かないライブラリや過剰に巨大なライブラリは採用を見送りました。

**Q88. モバイルデバイス対応での技術的課題は？**
A. iOS Safari特有の「100vh問題（アドレスバーによる領域変動）」に対し、`dvh` (Dynamic Viewport Height) 単位の使用やJSによる高さ計算で対応しました。

**Q89. コードのディレクトリ構成の意図は？**
A. 機能単位（Features）ではなく、技術的なレイヤー単位（components, hooks, utils）とドメイン単位（game logic）を組み合わせて、メンテナビリティを確保しました。

**Q90. エラーハンドリングの設計方針は？**
A. ユーザーに見せるべきエラー（通信失敗など）と、バックグラウンドで処理すべきエラー（ログ送信）を区分けし、Global Error Boundaryで予期せぬクラッシュを防いでいます。

**Q91. APIのレートリミット実装は？**
A. Cloudflareの機能を利用し、特定IPからの過剰なリクエストをエッジ側で遮断することで、バックエンドAPIの負荷を保護しています。

**Q92. 状態管理ライブラリ（Redux/Zustand等）は使いましたか？**
A. アプリケーション規模的にReactのContext APIとHooksで十分と判断し、外部ライブラリを追加せずにシンプルに構成しました。

**Q93. アセット（画像・フォント）の最適化は？**
A.画像はWebPフォーマットへの変換、フォントはサブセット化を行い、HTTP/2による並列ダウンロード効率を高めています。

**Q94. 認証機能（Auth）は実装しましたか？**
A. 今回は「誰もがすぐに遊べる」ことを重視し、匿名ユーザー（ゲスト）としてのスコア登録を基本としています。管理画面のみ固定パスワード認証です。

**Q95. ゲームロジックのテストコードは書きましたか？**
A. 純粋なロジック部分（スコア計算、判定ロジック）に関しては単体テスト（Vitest）での検証が可能な設計にしています。

**Q96. 環境変数の管理方法を教えてください。**
A. `.env` ファイルでのローカル管理と、Cloudflare Dashboard上でのEnvironment Variables設定を使い分け、秘匿情報をリポジトリに含めない運用です。

**Q97. パフォーマンスチューニングで一番効果があったのは？**
A. Reactの再レンダリング回数の削減です。`React.memo` や `useCallback` の適切な使用と、頻繁に変わる値をStateからRefへ移行したことが効きました。

**Q98. 今後リファクタリングするならどこから手をつける？**
A. `GameManager.ts` がやや肥大化（God Class化）気味なので、Stateパターンなどを用いて状態ごとのクラスに分割したいです。

**Q99. 最後に、一番技術的に「こだわった」部分は？**
A. 「Web技術だけでネイティブアプリ並みの体験を作る」ことです。モダンブラウザのAPI（MediaPipe, Web Audio, Workers）をフル活用して実現しました。

