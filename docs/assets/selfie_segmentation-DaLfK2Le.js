import{c as Jt}from"./_commonjsHelpers-Cpj98o6Y.js";function an(j,$){for(var V=0;V<$.length;V++){const W=$[V];if(typeof W!="string"&&!Array.isArray(W)){for(const R in W)if(R!=="default"&&!(R in j)){const w=Object.getOwnPropertyDescriptor(W,R);w&&Object.defineProperty(j,R,w.get?w:{enumerable:!0,get:()=>W[R]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}var ir={};(function(){var j;function $(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var V=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,r){return t==Array.prototype||t==Object.prototype||(t[e]=r.value),t};function W(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jt=="object"&&Jt];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var R=W(this);function w(t,e){if(e)t:{var r=R;t=t.split(".");for(var n=0;n<t.length-1;n++){var i=t[n];if(!(i in r))break t;r=r[i]}t=t[t.length-1],n=r[t],e=e(n),e!=n&&e!=null&&V(r,t,{configurable:!0,writable:!0,value:e})}}w("Symbol",function(t){function e(u){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new r(n+(u||"")+"_"+i++,u)}function r(u,o){this.h=u,V(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;r.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),w("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var n=R[e[r]];typeof n=="function"&&typeof n.prototype[t]!="function"&&V(n.prototype,t,{configurable:!0,writable:!0,value:function(){return or($(this))}})}return t});function or(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function S(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:$(t)}}function qt(t){if(!(t instanceof Array)){t=S(t);for(var e,r=[];!(e=t.next()).done;)r.push(e.value);t=r}return t}var ur=typeof Object.assign=="function"?Object.assign:function(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};w("Object.assign",function(t){return t||ur});var sr=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},xt;if(typeof Object.setPrototypeOf=="function")xt=Object.setPrototypeOf;else{var bt;t:{var fr={a:!0},te={};try{te.__proto__=fr,bt=te.a;break t}catch{}bt=!1}xt=bt?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var ee=xt;function Q(t,e){if(t.prototype=sr(e.prototype),t.prototype.constructor=t,ee)ee(t,e);else for(var r in e)if(r!="prototype")if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,r);n&&Object.defineProperty(t,r,n)}else t[r]=e[r];t.za=e.prototype}function Et(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function Ot(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}Et.prototype.u=function(t){this.i=t};function Ft(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}Et.prototype.return=function(t){this.l={return:t},this.h=this.v};function x(t,e,r){return t.h=r,{value:e}}function lr(t){this.h=new Et,this.i=t}function cr(t,e){Ot(t.h);var r=t.h.j;return r?St(t,"return"in r?r.return:function(n){return{value:n,done:!0}},e,t.h.return):(t.h.return(e),J(t))}function St(t,e,r,n){try{var i=e.call(t.h.j,r);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var u=i.value}catch(o){return t.h.j=null,Ft(t.h,o),J(t)}return t.h.j=null,n.call(t.h,u),J(t)}function J(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(r){t.h.i=void 0,Ft(t.h,r)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function hr(t){this.next=function(e){return Ot(t.h),t.h.j?e=St(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=J(t)),e},this.throw=function(e){return Ot(t.h),t.h.j?e=St(t,t.h.j.throw,e,t.h.u):(Ft(t.h,e),e=J(t)),e},this.return=function(e){return cr(t,e)},this[Symbol.iterator]=function(){return this}}function ar(t){function e(n){return t.next(n)}function r(n){return t.throw(n)}return new Promise(function(n,i){function u(o){o.done?n(o.value):Promise.resolve(o.value).then(e,r).then(u,i)}u(t.next())})}function F(t){return ar(new hr(new lr(t)))}w("Promise",function(t){function e(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var s=this.l();try{o(s.resolve,s.reject)}catch(f){s.reject(f)}}function r(){this.h=null}function n(o){return o instanceof e?o:new e(function(s){s(o)})}if(t)return t;r.prototype.i=function(o){if(this.h==null){this.h=[];var s=this;this.j(function(){s.m()})}this.h.push(o)};var i=R.setTimeout;r.prototype.j=function(o){i(o,0)},r.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var s=0;s<o.length;++s){var f=o[s];o[s]=null;try{f()}catch(l){this.l(l)}}}this.h=null},r.prototype.l=function(o){this.j(function(){throw o})},e.prototype.l=function(){function o(l){return function(c){f||(f=!0,l.call(s,c))}}var s=this,f=!1;return{resolve:o(this.I),reject:o(this.m)}},e.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.L(o);else{t:switch(typeof o){case"object":var s=o!=null;break t;case"function":s=!0;break t;default:s=!1}s?this.F(o):this.s(o)}},e.prototype.F=function(o){var s=void 0;try{s=o.then}catch(f){this.m(f);return}typeof s=="function"?this.M(s,o):this.s(o)},e.prototype.m=function(o){this.v(2,o)},e.prototype.s=function(o){this.v(1,o)},e.prototype.v=function(o,s){if(this.i!=0)throw Error("Cannot settle("+o+", "+s+"): Promise already settled in state"+this.i);this.i=o,this.j=s,this.i===2&&this.K(),this.H()},e.prototype.K=function(){var o=this;i(function(){if(o.D()){var s=R.console;typeof s<"u"&&s.error(o.j)}},1)},e.prototype.D=function(){if(this.u)return!1;var o=R.CustomEvent,s=R.Event,f=R.dispatchEvent;return typeof f>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof s=="function"?o=new s("unhandledrejection",{cancelable:!0}):(o=R.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,f(o))},e.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)u.i(this.h[o]);this.h=null}};var u=new r;return e.prototype.L=function(o){var s=this.l();o.T(s.resolve,s.reject)},e.prototype.M=function(o,s){var f=this.l();try{o.call(s,f.resolve,f.reject)}catch(l){f.reject(l)}},e.prototype.then=function(o,s){function f(a,h){return typeof a=="function"?function(v){try{l(a(v))}catch(y){c(y)}}:h}var l,c,p=new e(function(a,h){l=a,c=h});return this.T(f(o,l),f(s,c)),p},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.T=function(o,s){function f(){switch(l.i){case 1:o(l.j);break;case 2:s(l.j);break;default:throw Error("Unexpected state: "+l.i)}}var l=this;this.h==null?u.i(f):this.h.push(f),this.u=!0},e.resolve=n,e.reject=function(o){return new e(function(s,f){f(o)})},e.race=function(o){return new e(function(s,f){for(var l=S(o),c=l.next();!c.done;c=l.next())n(c.value).T(s,f)})},e.all=function(o){var s=S(o),f=s.next();return f.done?n([]):new e(function(l,c){function p(v){return function(y){a[v]=y,h--,h==0&&l(a)}}var a=[],h=0;do a.push(void 0),h++,n(f.value).T(p(a.length-1),c),f=s.next();while(!f.done)})},e});function pr(t,e){t instanceof String&&(t+="");var r=0,n=!1,i={next:function(){if(!n&&r<t.length){var u=r++;return{value:e(u,t[u]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}w("Array.prototype.keys",function(t){return t||function(){return pr(this,function(e){return e})}}),w("Array.prototype.fill",function(t){return t||function(e,r,n){var i=this.length||0;for(0>r&&(r=Math.max(0,i+r)),(n==null||n>i)&&(n=i),n=Number(n),0>n&&(n=Math.max(0,i+n)),r=Number(r||0);r<n;r++)this[r]=e;return this}});function D(t){return t||Array.prototype.fill}w("Int8Array.prototype.fill",D),w("Uint8Array.prototype.fill",D),w("Uint8ClampedArray.prototype.fill",D),w("Int16Array.prototype.fill",D),w("Uint16Array.prototype.fill",D),w("Int32Array.prototype.fill",D),w("Uint32Array.prototype.fill",D),w("Float32Array.prototype.fill",D),w("Float64Array.prototype.fill",D),w("Object.is",function(t){return t||function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}}),w("Array.prototype.includes",function(t){return t||function(e,r){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(r=r||0,0>r&&(r=Math.max(r+i,0));r<i;r++){var u=n[r];if(u===e||Object.is(u,e))return!0}return!1}}),w("String.prototype.includes",function(t){return t||function(e,r){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,r||0)!==-1}});var _t=this||self;function lt(t,e){t=t.split(".");var r=_t;t[0]in r||typeof r.execScript>"u"||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||e===void 0?r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}:r[n]=e}function re(t){var e;t:{if((e=_t.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}var vr=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var r=t.length,n=Array(r),i=typeof t=="string"?t.split(""):t,u=0;u<r;u++)u in i&&(n[u]=e.call(void 0,i[u],u,t));return n},ne={},q=null;function yr(t){var e=t.length,r=3*e/4;r%3?r=Math.floor(r):"=.".indexOf(t[e-1])!=-1&&(r="=.".indexOf(t[e-2])!=-1?r-2:r-1);var n=new Uint8Array(r),i=0;return dr(t,function(u){n[i++]=u}),i!==r?n.subarray(0,i):n}function dr(t,e){function r(f){for(;n<t.length;){var l=t.charAt(n++),c=q[l];if(c!=null)return c;if(!/^[\s\xa0]*$/.test(l))throw Error("Unknown base64 encoding at char: "+l)}return f}ie();for(var n=0;;){var i=r(-1),u=r(0),o=r(64),s=r(64);if(s===64&&i===-1)break;e(i<<2|u>>4),o!=64&&(e(u<<4&240|o>>2),s!=64&&e(o<<6&192|s))}}function ie(){if(!q){q={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=t.concat(e[r].split(""));ne[r]=n;for(var i=0;i<n.length;i++){var u=n[i];q[u]===void 0&&(q[u]=i)}}}}var Rt=typeof Uint8Array<"u",oe=!(re("Trident")||re("MSIE"))&&typeof _t.btoa=="function";function ue(t){if(!oe){var e;e===void 0&&(e=0),ie(),e=ne[e];for(var r=Array(Math.floor(t.length/3)),n=e[64]||"",i=0,u=0;i<t.length-2;i+=3){var o=t[i],s=t[i+1],f=t[i+2],l=e[o>>2];o=e[(o&3)<<4|s>>4],s=e[(s&15)<<2|f>>6],f=e[f&63],r[u++]=l+o+s+f}switch(l=0,f=n,t.length-i){case 2:l=t[i+1],f=e[(l&15)<<2]||n;case 1:t=t[i],r[u]=e[t>>2]+e[(t&3)<<4|l>>4]+f+n}return r.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var se=RegExp("[-_.]","g");function mr(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function fe(t){if(!oe)return yr(t);se.test(t)&&(t=t.replace(se,mr)),t=atob(t);for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var le;function Tt(){return le||(le=new Uint8Array(0))}var tt={},gr=typeof Uint8Array.prototype.slice=="function",b=0,_=0;function ce(t){var e=0>t;t=Math.abs(t);var r=t>>>0;t=Math.floor((t-r)/4294967296),e&&(r=S(he(r,t)),e=r.next().value,t=r.next().value,r=e),b=r>>>0,_=t>>>0}var wr=typeof BigInt=="function";function he(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function ae(t,e){this.i=t>>>0,this.h=e>>>0}function pe(t){if(!t)return ve||(ve=new ae(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)ce(Number(t));else if(wr)t=BigInt(t),b=Number(t&BigInt(4294967295))>>>0,_=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+(t[0]==="-");_=b=0;for(var r=t.length,n=e,i=(r-e)%6+e;i<=r;n=i,i+=6)n=Number(t.slice(n,i)),_*=1e6,b=1e6*b+n,4294967296<=b&&(_+=b/4294967296|0,b%=4294967296);e&&(e=S(he(b,_)),t=e.next().value,e=e.next().value,b=t,_=e)}return new ae(b,_)}var ve;function ye(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function Ut(){return Error("Failed to read varint, encoding is invalid.")}function de(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function z(){throw Error("Invalid UTF8")}function me(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var ct=void 0,Pt,Ar=typeof TextDecoder<"u",ge,jr=typeof TextEncoder<"u",we;function Ae(t){if(t!==tt)throw Error("illegal external caller")}function et(t,e){if(Ae(e),this.V=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}function Mt(){return we||(we=new et(null,tt))}function je(t){Ae(tt);var e=t.V;return e=e==null||Rt&&e!=null&&e instanceof Uint8Array?e:typeof e=="string"?fe(e):null,e==null?e:t.V=e}function xr(t){if(typeof t=="string")return{buffer:fe(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===et)return{buffer:je(t)||Tt(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function xe(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,Lt(this,t,e)}function Lt(t,e,r){r=r===void 0?{}:r,t.S=r.S===void 0?!1:r.S,e&&(e=xr(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}xe.prototype.reset=function(){this.h=this.l};function H(t,e){if(t.h=e,e>t.j)throw de(t.j,e)}function rt(t){var e=t.i,r=t.h,n=e[r++],i=n&127;if(n&128&&(n=e[r++],i|=(n&127)<<7,n&128&&(n=e[r++],i|=(n&127)<<14,n&128&&(n=e[r++],i|=(n&127)<<21,n&128&&(n=e[r++],i|=n<<28,n&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128)))))throw Ut();return H(t,r),i}function be(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var r=t.h,n=r+e;if(n>t.j)throw de(e,t.j-r);return t.h=n,r}var Ee=[];function Ct(){this.h=[]}Ct.prototype.length=function(){return this.h.length},Ct.prototype.end=function(){var t=this.h;return this.h=[],t};function Oe(t,e,r){for(;0<r||127<e;)t.h.push(e&127|128),e=(e>>>7|r<<25)>>>0,r>>>=7;t.h.push(e)}function X(t,e){for(;127<e;)t.h.push(e&127|128),e>>>=7;t.h.push(e)}function Nt(t,e){if(Ee.length){var r=Ee.pop();Lt(r,t,e),t=r}else t=new xe(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}Nt.prototype.setOptions=function(t){t=t===void 0?{}:t,this.ca=t.ca===void 0?!1:t.ca},Nt.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Fe(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var r=rt(t.h)>>>0;if(e=r>>>3,r&=7,!(0<=r&&5>=r))throw ye(r,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=r,!0}function ht(t){switch(t.i){case 0:if(t.i!=0)ht(t);else t:{t=t.h;for(var e=t.h,r=e+10,n=t.i;e<r;)if(!(n[e++]&128)){H(t,e);break t}throw Ut()}break;case 1:t=t.h,H(t,t.h+8);break;case 2:t.i!=2?ht(t):(e=rt(t.h)>>>0,t=t.h,H(t,t.h+e));break;case 5:t=t.h,H(t,t.h+4);break;case 3:e=t.l;do{if(!Fe(t))throw Error("Unmatched start-group tag: stream EOF");if(t.i==4){if(t.l!=e)throw Error("Unmatched end-group tag");break}ht(t)}while(!0);break;default:throw ye(t.i,t.j)}}var at=[];function br(){this.j=[],this.i=0,this.h=new Ct}function K(t,e){e.length!==0&&(t.j.push(e),t.i+=e.length)}function Er(t,e){if(e=e.R){K(t,t.h.end());for(var r=0;r<e.length;r++)K(t,je(e[r])||Tt())}}var k=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Y(t,e){return k?t[k]|=e:t.A!==void 0?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function Se(t,e){k?t[k]&&(t[k]&=~e):t.A!==void 0&&(t.A&=~e)}function A(t){var e;return k?e=t[k]:e=t.A,e??0}function C(t,e){k?t[k]=e:t.A!==void 0?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function Bt(t){return Y(t,1),t}function Or(t,e){C(e,(t|0)&-51)}function pt(t,e){C(e,(t|18)&-41)}var It={};function vt(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var nt,_e=[];C(_e,23),nt=Object.freeze(_e);function Dt(t){if(A(t.o)&2)throw Error("Cannot mutate an immutable Message")}function kt(t){var e=t.length;(e=e?t[e-1]:void 0)&&vt(e)?e.g=1:(e={},t.push((e.g=1,e)))}function Re(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function M(t,e){return e===-1?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function N(t,e,r,n){Dt(t),it(t,e,r,n)}function it(t,e,r,n){t.j&&(t.j=void 0),e>=t.i||n?Re(t)[e]=r:(t.o[e+t.G]=r,(t=t.B)&&e in t&&delete t[e])}function Gt(t,e,r,n){var i=M(t,e);Array.isArray(i)||(i=nt);var u=A(i);if(u&1||Bt(i),n)u&2||Y(i,2),r&1||Object.freeze(i);else{n=!(r&2);var o=u&2;r&1||!o?n&&u&16&&!o&&Se(i,16):(i=Bt(Array.prototype.slice.call(i)),it(t,e,i))}return i}function Vt(t,e){var r=M(t,e),n=r==null?r:typeof r=="number"||r==="NaN"||r==="Infinity"||r==="-Infinity"?Number(r):void 0;return n!=null&&n!==r&&it(t,e,n),n}function Te(t,e,r,n,i){t.h||(t.h={});var u=t.h[r],o=Gt(t,r,3,i);if(!u){var s=o;u=[];var f=!!(A(t.o)&16);o=!!(A(s)&2);var l=s;!i&&o&&(s=Array.prototype.slice.call(s));for(var c=o,p=0;p<s.length;p++){var a=s[p],h=e,v=!1;if(v=v===void 0?!1:v,a=Array.isArray(a)?new h(a):v?new h:void 0,a!==void 0){h=a.o;var y=v=A(h);o&&(y|=2),f&&(y|=16),y!=v&&C(h,y),h=y,c=c||!!(2&h),u.push(a)}}return t.h[r]=u,f=A(s),e=f|33,e=c?e&-9:e|8,f!=e&&(c=s,Object.isFrozen(c)&&(c=Array.prototype.slice.call(c)),C(c,e),s=c),l!==s&&it(t,r,s),(i||n&&o)&&Y(u,2),n&&Object.freeze(u),u}return i||(i=Object.isFrozen(u),n&&!i?Object.freeze(u):!n&&i&&(u=Array.prototype.slice.call(u),t.h[r]=u)),u}function Wt(t,e,r){var n=!!(A(t.o)&2);if(e=Te(t,e,r,n,n),t=Gt(t,r,3,n),!(n||A(t)&8)){for(n=0;n<e.length;n++){if(r=e[n],A(r.o)&2){var i=Ne(r,!1);i.j=r}else i=r;r!==i&&(e[n]=i,t[n]=i.o)}Y(t,8)}return e}function B(t,e,r){if(r!=null&&typeof r!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof r+": "+r);N(t,e,r)}function Ue(t,e,r,n,i){Dt(t);var u=Te(t,r,e,!1,!1);return r=n??new r,t=Gt(t,e,2,!1),i!=null?(u.splice(i,0,r),t.splice(i,0,r.o)):(u.push(r),t.push(r.o)),r.C()&&Se(t,8),r}function yt(t,e){return t??e}function I(t,e,r){return r=r===void 0?0:r,yt(Vt(t,e),r)}var dt;function Fr(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if(A(t)&128)return t=Array.prototype.slice.call(t),kt(t),t}else{if(Rt&&t!=null&&t instanceof Uint8Array)return ue(t);if(t instanceof et){var e=t.V;return e==null?"":typeof e=="string"?e:t.V=ue(e)}}}return t}function Pe(t,e,r,n){if(t!=null){if(Array.isArray(t))t=zt(t,e,r,n!==void 0);else if(vt(t)){var i={},u;for(u in t)i[u]=Pe(t[u],e,r,n);t=i}else t=e(t,n);return t}}function zt(t,e,r,n){var i=A(t);n=n?!!(i&16):void 0,t=Array.prototype.slice.call(t);for(var u=0;u<t.length;u++)t[u]=Pe(t[u],e,r,n);return r(i,t),t}function Sr(t){return t.ja===It?t.toJSON():Fr(t)}function _r(t,e){t&128&&kt(e)}function Me(t,e,r){if(r=r===void 0?pt:r,t!=null){if(Rt&&t instanceof Uint8Array)return t.length?new et(new Uint8Array(t),tt):Mt();if(Array.isArray(t)){var n=A(t);return n&2?t:e&&!(n&32)&&(n&16||n===0)?(C(t,n|2),t):(t=zt(t,Me,n&4?pt:r,!0),e=A(t),e&4&&e&2&&Object.freeze(t),t)}return t.ja===It?Ce(t):t}}function Le(t,e,r,n,i,u,o){if(t=t.h&&t.h[r]){if(n=A(t),n&2?n=t:(u=vr(t,Ce),pt(n,u),Object.freeze(u),n=u),Dt(e),o=n==null?nt:Bt([]),n!=null){for(u=!!n.length,t=0;t<n.length;t++){var s=n[t];u=u&&!(A(s.o)&2),o[t]=s.o}u=(u?8:0)|1,t=A(o),(t&u)!==u&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),C(o,t|u)),e.h||(e.h={}),e.h[r]=n}else e.h&&(e.h[r]=void 0);it(e,r,o,i)}else N(e,r,Me(n,u,o),i)}function Ce(t){return A(t.o)&2||(t=Ne(t,!0),Y(t.o,2)),t}function Ne(t,e){var r=t.o,n=[];Y(n,16);var i=t.constructor.h;if(i&&n.push(i),i=t.B,i){n.length=r.length,n.fill(void 0,n.length,r.length);var u={};n[n.length-1]=u}A(r)&128&&kt(n),e=e||t.C()?pt:Or,u=t.constructor,dt=n,n=new u(n),dt=void 0,t.R&&(n.R=t.R.slice()),u=!!(A(r)&16);for(var o=i?r.length-1:r.length,s=0;s<o;s++)Le(t,n,s-t.G,r[s],!1,u,e);if(i)for(var f in i)Le(t,n,+f,i[f],!0,u,e);return n}function T(t,e,r){t==null&&(t=dt),dt=void 0;var n=this.constructor.i||0,i=0<n,u=this.constructor.h,o=!1;if(t==null){t=u?[u]:[];var s=48,f=!0;i&&(n=0,s|=128),C(t,s)}else{if(!Array.isArray(t)||u&&u!==t[0])throw Error();var l=s=Y(t,0);if((f=(16&l)!==0)&&((o=(32&l)!==0)||(l|=32)),i){if(128&l)n=0;else if(0<t.length){var c=t[t.length-1];if(vt(c)&&"g"in c){n=0,l|=128,delete c.g;var p=!0,a;for(a in c){p=!1;break}p&&t.pop()}}}else if(128&l)throw Error();s!==l&&C(t,l)}this.G=(u?0:-1)-n,this.h=void 0,this.o=t;t:{if(u=this.o.length,n=u-1,u&&(u=this.o[n],vt(u))){this.B=u,this.i=n-this.G;break t}e!==void 0&&-1<e?(this.i=Math.max(e,n+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(r){e=f&&!o&&!0,i=this.i;var h;for(f=0;f<r.length;f++)o=r[f],o<i?(o+=this.G,(n=t[o])?Be(n,e):t[o]=nt):(h||(h=Re(this)),(n=h[o])?Be(n,e):h[o]=nt)}}T.prototype.toJSON=function(){return zt(this.o,Sr,_r)},T.prototype.C=function(){return!!(A(this.o)&2)};function Be(t,e){if(Array.isArray(t)){var r=A(t),n=1;!e||r&2||(n|=16),(r&n)!==n&&C(t,r|n)}}T.prototype.ja=It,T.prototype.toString=function(){return this.o.toString()};function Ie(t,e,r){if(r){var n={},i;for(i in r){var u=r[i],o=u.ra;o||(n.J=u.xa||u.oa.W,u.ia?(n.aa=We(u.ia),o=function(s){return function(f,l,c){return s.J(f,l,c,s.aa)}}(n)):u.ka?(n.Z=ze(u.da.P,u.ka),o=function(s){return function(f,l,c){return s.J(f,l,c,s.Z)}}(n)):o=n.J,u.ra=o),o(e,t,u.da),n={J:n.J,aa:n.aa,Z:n.Z}}}Er(e,t)}var mt=Symbol();function De(t,e,r){return t[mt]||(t[mt]=function(n,i){return e(n,i,r)})}function ke(t){var e=t[mt];if(!e){var r=Xt(t);e=function(n,i){return He(n,i,r)},t[mt]=e}return e}function Rr(t){var e=t.ia;if(e)return ke(e);if(e=t.wa)return De(t.da.P,e,t.ka)}function Tr(t){var e=Rr(t),r=t.da,n=t.oa.U;return e?function(i,u){return n(i,u,r,e)}:function(i,u){return n(i,u,r)}}function Ge(t,e){var r=t[e];return typeof r=="function"&&r.length===0&&(r=r(),t[e]=r),Array.isArray(r)&&(ut in r||ot in r||0<r.length&&typeof r[0]=="function")?r:void 0}function Ve(t,e,r,n,i,u){e.P=t[0];var o=1;if(t.length>o&&typeof t[o]!="number"){var s=t[o++];r(e,s)}for(;o<t.length;){r=t[o++];for(var f=o+1;f<t.length&&typeof t[f]!="number";)f++;switch(s=t[o++],f-=o,f){case 0:n(e,r,s);break;case 1:(f=Ge(t,o))?(o++,i(e,r,s,f)):n(e,r,s,t[o++]);break;case 2:f=o++,f=Ge(t,f),i(e,r,s,f,t[o++]);break;case 3:u(e,r,s,t[o++],t[o++],t[o++]);break;case 4:u(e,r,s,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+f)}}return e}var gt=Symbol();function We(t){var e=t[gt];if(!e){var r=Ht(t);e=function(n,i){return Xe(n,i,r)},t[gt]=e}return e}function ze(t,e){var r=t[gt];return r||(r=function(n,i){return Ie(n,i,e)},t[gt]=r),r}var ot=Symbol();function Ur(t,e){t.push(e)}function Pr(t,e,r){t.push(e,r.W)}function Mr(t,e,r,n){var i=We(n),u=Ht(n).P,o=r.W;t.push(e,function(s,f,l){return o(s,f,l,u,i)})}function Lr(t,e,r,n,i,u){var o=ze(n,u),s=r.W;t.push(e,function(f,l,c){return s(f,l,c,n,o)})}function Ht(t){var e=t[ot];return e||(e=Ve(t,t[ot]=[],Ur,Pr,Mr,Lr),ut in t&&ot in t&&(t.length=0),e)}var ut=Symbol();function Cr(t,e){t[0]=e}function Nr(t,e,r,n){var i=r.U;t[e]=n?function(u,o,s){return i(u,o,s,n)}:i}function Br(t,e,r,n,i){var u=r.U,o=ke(n),s=Xt(n).P;t[e]=function(f,l,c){return u(f,l,c,s,o,i)}}function Ir(t,e,r,n,i,u,o){var s=r.U,f=De(n,i,u);t[e]=function(l,c,p){return s(l,c,p,n,f,o)}}function Xt(t){var e=t[ut];return e||(e=Ve(t,t[ut]={},Cr,Nr,Br,Ir),ut in t&&ot in t&&(t.length=0),e)}function He(t,e,r){for(;Fe(e)&&e.i!=4;){var n=e.l,i=r[n];if(!i){var u=r[0];u&&(u=u[n])&&(i=r[n]=Tr(u))}if(!i||!i(e,t,n)){i=e,n=t,u=i.j,ht(i);var o=i;if(!o.ca){if(i=o.h.h-u,o.h.h=u,o=o.h,i==0)i=Mt();else{if(u=be(o,i),o.S&&o.m)i=o.i.subarray(u,u+i);else{o=o.i;var s=u;i=u+i,i=s===i?Tt():gr?o.slice(s,i):new Uint8Array(o.subarray(s,i))}i=i.length==0?Mt():new et(i,tt)}(u=n.R)?u.push(i):n.R=[i]}}}return t}function Xe(t,e,r){for(var n=r.length,i=n%2==1,u=i?1:0;u<n;u+=2)(0,r[u+1])(e,t,r[u]);Ie(t,e,i?r[0]:void 0)}function st(t,e){return{U:t,W:e}}var L=st(function(t,e,r){if(t.i!==5)return!1;t=t.h;var n=t.i,i=t.h,u=n[i],o=n[i+1],s=n[i+2];return n=n[i+3],H(t,t.h+4),o=(u<<0|o<<8|s<<16|n<<24)>>>0,t=2*(o>>31)+1,u=o>>>23&255,o&=8388607,N(e,r,u==255?o?NaN:1/0*t:u==0?t*Math.pow(2,-149)*o:t*Math.pow(2,u-150)*(o+Math.pow(2,23))),!0},function(t,e,r){if(e=Vt(e,r),e!=null){X(t.h,8*r+5),t=t.h;var n=+e;n===0?0<1/n?b=_=0:(_=0,b=2147483648):isNaN(n)?(_=0,b=2147483647):(n=(r=0>n?-2147483648:0)?-n:n,34028234663852886e22<n?(_=0,b=(r|2139095040)>>>0):11754943508222875e-54>n?(n=Math.round(n/Math.pow(2,-149)),_=0,b=(r|n)>>>0):(e=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-e),n=Math.round(8388608*n),16777216<=n&&++e,_=0,b=(r|e+127<<23|n&8388607)>>>0)),r=b,t.h.push(r>>>0&255),t.h.push(r>>>8&255),t.h.push(r>>>16&255),t.h.push(r>>>24&255)}}),Dr=st(function(t,e,r){if(t.i!==0)return!1;var n=t.h,i=0,u=t=0,o=n.i,s=n.h;do{var f=o[s++];i|=(f&127)<<u,u+=7}while(32>u&&f&128);for(32<u&&(t|=(f&127)>>4),u=3;32>u&&f&128;u+=7)f=o[s++],t|=(f&127)<<u;if(H(n,s),128>f)n=i>>>0,f=t>>>0,(t=f&2147483648)&&(n=~n+1>>>0,f=~f>>>0,n==0&&(f=f+1>>>0)),n=4294967296*f+(n>>>0);else throw Ut();return N(e,r,t?-n:n),!0},function(t,e,r){e=M(e,r),e!=null&&(typeof e=="string"&&pe(e),e!=null&&(X(t.h,8*r),typeof e=="number"?(t=t.h,ce(e),Oe(t,b,_)):(r=pe(e),Oe(t.h,r.i,r.h))))}),kr=st(function(t,e,r){return t.i!==0?!1:(N(e,r,rt(t.h)),!0)},function(t,e,r){if(e=M(e,r),e!=null&&e!=null)if(X(t.h,8*r),t=t.h,r=e,0<=r)X(t,r);else{for(e=0;9>e;e++)t.h.push(r&127|128),r>>=7;t.h.push(1)}}),Ye=st(function(t,e,r){if(t.i!==2)return!1;var n=rt(t.h)>>>0;t=t.h;var i=be(t,n);if(t=t.i,Ar){var u=t,o;(o=Pt)||(o=Pt=new TextDecoder("utf-8",{fatal:!0})),t=i+n,u=i===0&&t===u.length?u:u.subarray(i,t);try{var s=o.decode(u)}catch(p){if(ct===void 0){try{o.decode(new Uint8Array([128]))}catch{}try{o.decode(new Uint8Array([97])),ct=!0}catch{ct=!1}}throw!ct&&(Pt=void 0),p}}else{s=i,n=s+n,i=[];for(var f=null,l,c;s<n;)l=t[s++],128>l?i.push(l):224>l?s>=n?z():(c=t[s++],194>l||(c&192)!==128?(s--,z()):i.push((l&31)<<6|c&63)):240>l?s>=n-1?z():(c=t[s++],(c&192)!==128||l===224&&160>c||l===237&&160<=c||((u=t[s++])&192)!==128?(s--,z()):i.push((l&15)<<12|(c&63)<<6|u&63)):244>=l?s>=n-2?z():(c=t[s++],(c&192)!==128||(l<<28)+(c-144)>>30||((u=t[s++])&192)!==128||((o=t[s++])&192)!==128?(s--,z()):(l=(l&7)<<18|(c&63)<<12|(u&63)<<6|o&63,l-=65536,i.push((l>>10&1023)+55296,(l&1023)+56320))):z(),8192<=i.length&&(f=me(f,i),i.length=0);s=me(f,i)}return N(e,r,s),!0},function(t,e,r){if(e=M(e,r),e!=null){var n=!1;if(n=n===void 0?!1:n,jr){if(n&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(ge||(ge=new TextEncoder)).encode(e)}else{for(var i=0,u=new Uint8Array(3*e.length),o=0;o<e.length;o++){var s=e.charCodeAt(o);if(128>s)u[i++]=s;else{if(2048>s)u[i++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&o<e.length){var f=e.charCodeAt(++o);if(56320<=f&&57343>=f){s=1024*(s-55296)+f-56320+65536,u[i++]=s>>18|240,u[i++]=s>>12&63|128,u[i++]=s>>6&63|128,u[i++]=s&63|128;continue}else o--}if(n)throw Error("Found an unpaired surrogate");s=65533}u[i++]=s>>12|224,u[i++]=s>>6&63|128}u[i++]=s&63|128}}e=i===u.length?u:u.subarray(0,i)}X(t.h,8*r+2),X(t.h,e.length),K(t,t.h.end()),K(t,e)}}),Ke=st(function(t,e,r,n,i){if(t.i!==2)return!1;e=Ue(e,r,n),r=t.h.j,n=rt(t.h)>>>0;var u=t.h.h+n,o=u-r;if(0>=o&&(t.h.j=u,i(e,t,void 0,void 0,void 0),o=u-t.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(n+" bytes, instead read "+(n-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.h.h=u,t.h.j=r,!0},function(t,e,r,n,i){if(e=Wt(e,n,r),e!=null)for(n=0;n<e.length;n++){var u=t;X(u.h,8*r+2);var o=u.h.end();K(u,o),o.push(u.i),u=o,i(e[n],t),o=t;var s=u.pop();for(s=o.i+o.h.length()-s;127<s;)u.push(s&127|128),s>>>=7,o.i++;u.push(s),o.i++}});function Yt(t){return function(e,r){t:{if(at.length){var n=at.pop();n.setOptions(r),Lt(n.h,e,r),e=n}else e=new Nt(e,r);try{var i=Xt(t),u=He(new i.P,e,i);break t}finally{i=e.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>at.length&&at.push(e)}u=void 0}return u}}function Kt(t){return function(){var e=new br;Xe(this,e,Ht(t)),K(e,e.h.end());for(var r=new Uint8Array(e.i),n=e.j,i=n.length,u=0,o=0;o<i;o++){var s=n[o];r.set(s,u),u+=s.length}return e.j=[r],r}}function Z(t){T.call(this,t)}Q(Z,T);var Ze=[Z,1,kr,2,L,3,Ye,4,Ye];Z.prototype.l=Kt(Ze);function Zt(t){T.call(this,t,-1,Gr)}Q(Zt,T),Zt.prototype.addClassification=function(t,e){return Ue(this,1,Z,t,e),this};var Gr=[1],Vr=Yt([Zt,1,Ke,Ze]);function ft(t){T.call(this,t)}Q(ft,T);var $e=[ft,1,L,2,L,3,L,4,L,5,L];ft.prototype.l=Kt($e);function Qe(t){T.call(this,t,-1,Wr)}Q(Qe,T);var Wr=[1],zr=Yt([Qe,1,Ke,$e]);function wt(t){T.call(this,t)}Q(wt,T);var Je=[wt,1,L,2,L,3,L,4,L,5,L,6,Dr],Hr=Yt(Je);wt.prototype.l=Kt(Je);function qe(t,e,r){if(r=t.createShader(r===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(r));return r}function Xr(t){return Wt(t,Z,1).map(function(e){var r=M(e,1);return{index:r??0,qa:I(e,2),label:M(e,3)!=null?yt(M(e,3),""):void 0,displayName:M(e,4)!=null?yt(M(e,4),""):void 0}})}function Yr(t){return{x:I(t,1),y:I(t,2),z:I(t,3),visibility:Vt(t,4)!=null?I(t,4):void 0}}function $t(t,e){this.i=t,this.h=e,this.m=0}function tr(t,e,r){return Kr(t,e),typeof t.h.canvas.transferToImageBitmap=="function"?Promise.resolve(t.h.canvas.transferToImageBitmap()):r?Promise.resolve(t.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.h.canvas):(t.j===void 0&&(t.j=document.createElement("canvas")),new Promise(function(n){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),n(t.j)}))}function Kr(t,e){var r=t.h;if(t.s===void 0){var n=qe(r,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=qe(r,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),u=r.createProgram();if(r.attachShader(u,n),r.attachShader(u,i),r.linkProgram(u),!r.getProgramParameter(u,r.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+r.getProgramInfoLog(u));n=t.s=u,r.useProgram(n),i=r.getUniformLocation(n,"sampler0"),t.l={O:r.getAttribLocation(n,"aVertex"),N:r.getAttribLocation(n,"aTex"),ya:i},t.v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.enableVertexAttribArray(t.l.O),r.vertexAttribPointer(t.l.O,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),t.u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.enableVertexAttribArray(t.l.N),r.vertexAttribPointer(t.l.N,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(i,0)}n=t.l,r.useProgram(t.s),r.canvas.width=e.width,r.canvas.height=e.height,r.viewport(0,0,e.width,e.height),r.activeTexture(r.TEXTURE0),t.i.bindTexture2d(e.glName),r.enableVertexAttribArray(n.O),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.vertexAttribPointer(n.O,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.vertexAttribPointer(n.N,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.O),r.disableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}function Zr(t){this.h=t}var $r=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Qr(t,e){return e+t}function er(t,e){window[t]=e}function Jr(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(r){e.addEventListener("load",function(){r()},!1),e.addEventListener("error",function(){r()},!1),document.body.appendChild(e)})}function qr(){return F(function(t){switch(t.h){case 1:return t.s=2,x(t,WebAssembly.instantiate($r),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})}function Qt(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||Qr,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=e,t.options){e=S(Object.keys(t.options));for(var r=e.next();!r.done;r=e.next()){r=r.value;var n=t.options[r].default;n!==void 0&&(this.l[r]=typeof n=="function"?n():n)}}}j=Qt.prototype,j.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function tn(t){var e,r,n,i,u,o,s,f,l,c,p;return F(function(a){switch(a.h){case 1:return t.ga?(e=t.h.files===void 0?[]:typeof t.h.files=="function"?t.h.files(t.l):t.h.files,x(a,qr(),2)):a.return();case 2:if(r=a.i,typeof window=="object")return er("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),er("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(h){return h.data!==void 0}),s=e.filter(function(h){return h.data===void 0}),f=Promise.all(o.map(function(h){var v=At(t,h.url);if(h.path!==void 0){var y=h.path;v=v.then(function(g){return t.overrideFile(y,g),Promise.resolve(g)})}return v})),l=Promise.all(s.map(function(h){return h.simd===void 0||h.simd&&r||!h.simd&&!r?Jr(t.locateFile(h.url,t.ha)):Promise.resolve()})).then(function(){var h,v,y;return F(function(g){if(g.h==1)return h=window.createMediapipeSolutionsWasm,v=window.createMediapipeSolutionsPackedAssets,y=t,x(g,h(v),2);y.i=g.i,g.h=0})}),c=function(){return F(function(h){return t.h.graph&&t.h.graph.url?h=x(h,At(t,t.h.graph.url),0):(h.h=0,h=void 0),h})}(),x(a,Promise.all([l,f,c]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return n=e.filter(function(h){return h.simd===void 0||h.simd&&r||!h.simd&&!r}).map(function(h){return t.locateFile(h.url,t.ha)}),importScripts.apply(null,qt(n)),i=t,x(a,createMediapipeSolutionsWasm(Module),6);case 6:i.i=a.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,u=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),t.i.GL.makeContextCurrent(u),a.h=4;break;case 7:if(t.m=document.createElement("canvas"),p=t.m.getContext("webgl2",{}),!p&&(p=t.m.getContext("webgl",{}),!p))return alert("Failed to create WebGL canvas context when passing video frame."),a.return();t.K=p,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,a.h=0}})}function en(t){var e,r,n,i,u,o,s,f;return F(function(l){if(l.h==1){if(t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url)return l.return();if(t.u=!0,!t.h.graph||!t.h.graph.url){l.h=2;return}return t.fa=t.h.graph.url,x(l,At(t,t.h.graph.url),3)}for(l.h!=2&&(e=l.i,t.j.loadGraph(e)),r=S(Object.keys(t.D)),n=r.next();!n.done;n=r.next())i=n.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(u=S(t.h.listeners),o=u.next();!o.done;o=u.next())s=o.value,un(t,s);f=t.l,t.l={},t.setOptions(f),l.h=0})}j.reset=function(){var t=this;return F(function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0})},j.setOptions=function(t,e){var r=this;if(e=e||this.h.options){for(var n=[],i=[],u={},o=S(Object.keys(t)),s=o.next();!s.done;u={X:u.X,Y:u.Y},s=o.next())if(s=s.value,!(s in this.l&&this.l[s]===t[s])){this.l[s]=t[s];var f=e[s];f!==void 0&&(f.onChange&&(u.X=f.onChange,u.Y=t[s],n.push(function(l){return function(){var c;return F(function(p){if(p.h==1)return x(p,l.X(l.Y),2);c=p.i,c===!0&&(r.u=!0),p.h=0})}}(u))),f.graphOptionXref&&(s=Object.assign({},{calculatorName:"",calculatorIndex:0},f.graphOptionXref,{valueNumber:f.type===1?t[s]:0,valueBoolean:f.type===0?t[s]:!1,valueString:f.type===2?t[s]:""}),i.push(s)))}(n.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(n))}};function rn(t){var e,r,n,i,u,o,s;return F(function(f){switch(f.h){case 1:if(!t.u)return f.return();if(!t.F){f.h=2;break}e=S(t.F),r=e.next();case 3:if(r.done){f.h=5;break}return n=r.value,x(f,n(),4);case 4:r=e.next(),f.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(i=new t.i.GraphOptionChangeRequestList,u=S(t.H),o=u.next();!o.done;o=u.next())s=o.value,i.push_back(s);t.j.changeOptions(i),i.delete(),t.H=void 0}t.u=!1,f.h=0}})}j.initialize=function(){var t=this;return F(function(e){return e.h==1?x(e,tn(t),2):e.h!=3?x(e,en(t),3):x(e,rn(t),0)})};function At(t,e){var r,n;return F(function(i){return e in t.L?i.return(t.L[e]):(r=t.locateFile(e,""),n=fetch(r).then(function(u){return u.arrayBuffer()}),t.L[e]=n,i.return(n))})}j.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},j.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},j.send=function(t,e){var r=this,n,i,u,o,s,f,l,c,p;return F(function(a){switch(a.h){case 1:return r.h.inputs?(n=1e3*(e??performance.now()),x(a,r.I,2)):a.return();case 2:return x(a,r.initialize(),3);case 3:for(i=new r.i.PacketDataList,u=S(Object.keys(t)),o=u.next();!o.done;o=u.next())if(s=o.value,f=r.h.inputs[s]){t:{var h=t[s];switch(f.type){case"video":var v=r.s[f.stream];if(v||(v=new $t(r.i,r.K),r.s[f.stream]=v),v.m===0&&(v.m=v.i.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var y=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(y=h.naturalWidth,g=h.naturalHeight):(y=h.width,g=h.height);g={glName:v.m,width:y,height:g},y=v.h,y.canvas.width=g.width,y.canvas.height=g.height,y.activeTexture(y.TEXTURE0),v.i.bindTexture2d(v.m),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,h),v.i.bindTexture2d(0),v=g;break t;case"detections":for(v=r.s[f.stream],v||(v=new Zr(r.i),r.s[f.stream]=v),v.data||(v.data=new v.h.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){y=h[g];var m=v.data,E=m.setBoundingBox,P=g,U=y.la,d=new wt;if(B(d,1,U.sa),B(d,2,U.ta),B(d,3,U.height),B(d,4,U.width),B(d,5,U.rotation),N(d,6,U.pa),U=d.l(),E.call(m,P,U),y.ea)for(m=0;m<y.ea.length;++m){d=y.ea[m],E=v.data,P=E.addNormalizedLandmark,U=g,d=Object.assign({},d,{visibility:d.visibility?d.visibility:0});var O=new ft;B(O,1,d.x),B(O,2,d.y),B(O,3,d.z),d.visibility&&B(O,4,d.visibility),d=O.l(),P.call(E,U,d)}if(y.ba)for(m=0;m<y.ba.length;++m)E=v.data,P=E.addClassification,U=g,d=y.ba[m],O=new Z,B(O,2,d.qa),d.index&&N(O,1,d.index),d.label&&N(O,3,d.label),d.displayName&&N(O,4,d.displayName),d=O.l(),P.call(E,U,d)}v=v.data;break t;default:v={}}}switch(l=v,c=f.stream,f.type){case"video":i.pushTexture2d(Object.assign({},l,{stream:c,timestamp:n}));break;case"detections":p=l,p.stream=c,p.timestamp=n,i.pushDetectionList(p);break;default:throw Error("Unknown input config type: '"+f.type+"'")}}return r.j.send(i),x(a,r.I,4);case 4:i.delete(),a.h=0}})};function nn(t,e,r){var n,i,u,o,s,f,l,c,p,a,h,v,y,g;return F(function(m){switch(m.h){case 1:if(!r)return m.return(e);for(n={},i=0,u=S(Object.keys(r)),o=u.next();!o.done;o=u.next())s=o.value,f=r[s],typeof f!="string"&&f.type==="texture"&&e[f.stream]!==void 0&&++i;1<i&&(t.M=!1),l=S(Object.keys(r)),o=l.next();case 2:if(o.done){m.h=4;break}if(c=o.value,p=r[c],typeof p=="string")return y=n,g=c,x(m,on(t,c,e[p]),14);if(a=e[p.stream],p.type==="detection_list"){if(a){for(var E=a.getRectList(),P=a.getLandmarksList(),U=a.getClassificationsList(),d=[],O=0;O<E.size();++O){var G=Hr(E.get(O)),sn=I(G,1),fn=I(G,2),ln=I(G,3),cn=I(G,4),hn=I(G,5,0),jt=void 0;jt=jt===void 0?0:jt,G={la:{sa:sn,ta:fn,height:ln,width:cn,rotation:hn,pa:yt(M(G,6),jt)},ea:Wt(zr(P.get(O)),ft,1).map(Yr),ba:Xr(Vr(U.get(O)))},d.push(G)}E=d}else E=[];n[c]=E,m.h=7;break}if(p.type==="proto_list"){if(a){for(E=Array(a.size()),P=0;P<a.size();P++)E[P]=a.get(P);a.delete()}else E=[];n[c]=E,m.h=7;break}if(a===void 0){m.h=3;break}if(p.type==="float_list"){n[c]=a,m.h=7;break}if(p.type==="proto"){n[c]=a,m.h=7;break}if(p.type!=="texture")throw Error("Unknown output config type: '"+p.type+"'");return h=t.v[c],h||(h=new $t(t.i,t.K),t.v[c]=h),x(m,tr(h,a,t.M),13);case 13:v=m.i,n[c]=v;case 7:p.transform&&n[c]&&(n[c]=p.transform(n[c])),m.h=3;break;case 14:y[g]=m.i;case 3:o=l.next(),m.h=2;break;case 4:return m.return(n)}})}function on(t,e,r){var n;return F(function(i){return typeof r=="number"||r instanceof Uint8Array||r instanceof t.i.Uint8BlobList?i.return(r):r instanceof t.i.Texture2dDataOut?(n=t.v[e],n||(n=new $t(t.i,t.K),t.v[e]=n),i.return(tr(n,r,t.M))):i.return(void 0)})}function un(t,e){for(var r=e.name||"$",n=[].concat(qt(e.wants)),i=new t.i.StringList,u=S(e.wants),o=u.next();!o.done;o=u.next())i.push_back(o.value);u=t.i.PacketListener.implement({onResults:function(s){for(var f={},l=0;l<e.wants.length;++l)f[n[l]]=s.get(l);var c=t.listeners[r];c&&(t.I=nn(t,f,e.outs).then(function(p){p=c(p);for(var a=0;a<e.wants.length;++a){var h=f[n[a]];typeof h=="object"&&h.hasOwnProperty&&h.hasOwnProperty("delete")&&h.delete()}p&&(t.I=p)}))}}),t.j.attachMultiListener(i,u),i.delete()}j.onResults=function(t,e){this.listeners[e||"$"]=t},lt("Solution",Qt),lt("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function rr(t){switch(t===void 0&&(t=0),t){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function nr(t){var e=this;t=t||{},this.h=new Qt({locateFile:t.locateFile,files:function(r){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:rr(r.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(r){var n,i,u;return F(function(o){return o.h==1?(n=rr(r),i="third_party/mediapipe/modules/selfie_segmentation/"+n,x(o,At(e.h,n),2)):(u=o.i,e.h.overrideFile(i,u),o.return(!0))})}}}})}j=nr.prototype,j.close=function(){return this.h.close(),Promise.resolve()},j.onResults=function(t){this.h.onResults(t)},j.initialize=function(){var t=this;return F(function(e){return x(e,t.h.initialize(),0)})},j.reset=function(){this.h.reset()},j.send=function(t){var e=this;return F(function(r){return x(r,e.h.send(t),0)})},j.setOptions=function(t){this.h.setOptions(t)},lt("SelfieSegmentation",nr),lt("VERSION","0.1.1675465747")}).call(Jt);const vn=an({__proto__:null,default:ir},[ir]);export{vn as s};
